{% extends 'base.html' %}

{% block content %}
<form action="/" method="POST">
            <h1>Add a Thread</h1>
            <div class="mb-3">
                <label for="title" class="form-label">Title</label>
                <input type="text" class="form-control" id="title" name="title">
            </div>
            <div class="mb-3">
                <label for="content" class="form-label">Content</label>
                <textarea class="form-control" id="content" rows="2" name="content"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
        <br>
        <h1 class="border-bottom pb-2 mb-0">Browse Threads</h1>
        {% for thread in threads %}
            <div class="card mb-4">
                <div class="card-body">
                    <img src="{{ thread.author.profile_pic_url }}" class="flex-shrink-0 me-2 rounded" width="64" height="64" alt="Profile image">
                    <h4 class="card-text" style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;max-width: 400px; "><a href="/thread/{{ thread.id }}"><b>{{ thread.title }}</b></a></h4>
                    <p class="card-text">
                    <small class="text-muted">
                        Posted by {{ thread.author.username }} on {{ thread.created_at.strftime('%Y-%m-%d %H:%M') }}
                    </small>
                    </p>
            </div>
            </div>
        {% endfor %}
{% endblock %}